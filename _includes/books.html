{% assign books = site.books | sort: 'title' %}

<ul class="book-overview">
  {% for book in books %}
    <li class="book">
      {% assign basename = book.id  | replace: "/books/", "" %}
      {% assign src = "./books/images/" | append: basename | append: ".jpg" %}
      <figure>
        <a href="{{ book.target }}" class="book-img">
          <img loading="lazy" src="{{src | relative_url}}" alt="{{ book.title }}">
        </a>
        <figcaption>
          <a href="{{ book.target }}">
            <h3>{{ book.title }}</h3>
          </a>
          <ul>
            <li>{{ book.author }}, {{ book.year }}</li>
            <li>{{ book.location }}</li>
          </ul>
        </figcaption>
      </figure>
    </li>
  {% endfor %}
</ul>
